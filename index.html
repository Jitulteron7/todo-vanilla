<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <link rel="stylesheet" href="style.css" />
  <script>
    const showTodos = (datas) => {
      const todoContainer = document.getElementById("todolist-container");
      todoContainer.innerHTML = "";
      for (let data of datas) {
        const div = document.createElement("div");
        const h4 = document.createElement("h4");
        h4.innerText = data.title;
        const span1 = document.createElement("span");
        span1.innerText = data.desc;
        const span2 = document.createElement("span");
        const btn = document.createElement("button");
        btn.innerText = "Delete";
        span2.append(btn);
        //   div.innerHTML =
        div.append(h4);
        div.append(span1);
        div.append(span2);
        todoContainer.append(div);
      }
    };
    const getTodos = () => {
      fetch("https://64d74eef2a017531bc132085.mockapi.io/todos", {
        method: "get",
      })
        .then((res) => res.json())
        .then((res) => {
          showTodos(res);
        });
    };
    getTodos();
    const postTodo = () => {
      const title = document.getElementById("title").value;
      const desc = document.getElementById("desc").value;
      console.log(title, desc);

      fetch("https://64d74eef2a017531bc132085.mockapi.io/todos", {
        headers: {
          Accept: "application/json",
          "Content-Type": "application/json",
        },
        method: "post",
        body: JSON.stringify({
          title: title,
          desc: desc,
        }),
      })
        .then((res) => res.json())
        .then((res) => {
          document.getElementById("title").value = "";
          document.getElementById("desc").value = "";
          getTodos();
        });
    };
  </script>
  <body>
    <div class="input-container">
      <input id="title" placeholder="title" />
      <input id="desc" placeholder="description" />
      <button onclick="postTodo()">Submit</button>
    </div>
    <!-- note: if element is not inline the innerText wil cover the element with / if it is surrounded by other element
    eg: <div>testing1</div><span>testing2</span> printInnerText: testing1\testing2 -->
    <div id="todolist-container"></div>
  </body>
</html>
